{% extends 'layout.html' %}
{% block content %}
<div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 80vh;">
  <h2 class="mb-4" style="color: #800000;">Two-Factor Authentication</h2>
  <p>Scan this QR code with your authenticator app (Google Authenticator, Authy, etc.), then enter the 6-digit code below.</p>
  <img src="{{ qr_code_url }}" alt="QR Code" style="margin: 2rem 0; width: 220px; height: 220px;">
  <form method="POST" class="d-flex flex-column align-items-center" style="width: 100%; max-width: 320px;">
    <input type="text" name="otp" class="form-control mb-3" placeholder="Enter 6-digit code" required maxlength="6" pattern="\d{6}">
    <button type="submit" class="btn btn-maroon" style="min-width: 120px;">Verify</button>
  </form>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="alert alert-danger mt-3">
        Incorrect Code
      </div>
    {% endif %}
  {% endwith %}
</div>
{% endblock %}